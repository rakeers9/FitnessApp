{"auth.users":{"columns":[{"name":"instance_id","type":"uuid","default":null,"nullable":true},{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"aud","type":"character varying(255)","default":null,"nullable":true},{"name":"role","type":"character varying(255)","default":null,"nullable":true},{"name":"email","type":"character varying(255)","default":null,"nullable":true},{"name":"encrypted_password","type":"character varying(255)","default":null,"nullable":true},{"name":"email_confirmed_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"invited_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"confirmation_token","type":"character varying(255)","default":null,"nullable":true},{"name":"confirmation_sent_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"recovery_token","type":"character varying(255)","default":null,"nullable":true},{"name":"recovery_sent_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"email_change_token_new","type":"character varying(255)","default":null,"nullable":true},{"name":"email_change","type":"character varying(255)","default":null,"nullable":true},{"name":"email_change_sent_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"last_sign_in_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"raw_app_meta_data","type":"jsonb","default":null,"nullable":true},{"name":"raw_user_meta_data","type":"jsonb","default":null,"nullable":true},{"name":"is_super_admin","type":"boolean","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"phone","type":"text","default":"NULL::character varying","nullable":true},{"name":"phone_confirmed_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"phone_change","type":"text","default":"''::character varying","nullable":true},{"name":"phone_change_token","type":"character varying(255)","default":"''::character varying","nullable":true},{"name":"phone_change_sent_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"confirmed_at","type":"timestamp with time zone","default":"LEAST(email_confirmed_at, phone_confirmed_at)","nullable":true},{"name":"email_change_token_current","type":"character varying(255)","default":"''::character varying","nullable":true},{"name":"email_change_confirm_status","type":"smallint","default":"0","nullable":true},{"name":"banned_until","type":"timestamp with time zone","default":null,"nullable":true},{"name":"reauthentication_token","type":"character varying(255)","default":"''::character varying","nullable":true},{"name":"reauthentication_sent_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"is_sso_user","type":"boolean","default":"false","nullable":false},{"name":"deleted_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"is_anonymous","type":"boolean","default":"false","nullable":false}],"indexes":[{"name":"users_pkey","definition":"CREATE UNIQUE INDEX users_pkey ON auth.users USING btree (id)"},{"name":"users_instance_id_idx","definition":"CREATE INDEX users_instance_id_idx ON auth.users USING btree (instance_id)"},{"name":"users_instance_id_email_idx","definition":"CREATE INDEX users_instance_id_email_idx ON auth.users USING btree (instance_id, lower((email)::text))"},{"name":"confirmation_token_idx","definition":"CREATE UNIQUE INDEX confirmation_token_idx ON auth.users USING btree (confirmation_token) WHERE ((confirmation_token)::text !~ '^[0-9 ]*$'::text)"},{"name":"recovery_token_idx","definition":"CREATE UNIQUE INDEX recovery_token_idx ON auth.users USING btree (recovery_token) WHERE ((recovery_token)::text !~ '^[0-9 ]*$'::text)"},{"name":"email_change_token_current_idx","definition":"CREATE UNIQUE INDEX email_change_token_current_idx ON auth.users USING btree (email_change_token_current) WHERE ((email_change_token_current)::text !~ '^[0-9 ]*$'::text)"},{"name":"email_change_token_new_idx","definition":"CREATE UNIQUE INDEX email_change_token_new_idx ON auth.users USING btree (email_change_token_new) WHERE ((email_change_token_new)::text !~ '^[0-9 ]*$'::text)"},{"name":"reauthentication_token_idx","definition":"CREATE UNIQUE INDEX reauthentication_token_idx ON auth.users USING btree (reauthentication_token) WHERE ((reauthentication_token)::text !~ '^[0-9 ]*$'::text)"},{"name":"users_email_partial_key","definition":"CREATE UNIQUE INDEX users_email_partial_key ON auth.users USING btree (email) WHERE (is_sso_user = false)"},{"name":"users_phone_key","definition":"CREATE UNIQUE INDEX users_phone_key ON auth.users USING btree (phone)"},{"name":"users_is_anonymous_idx","definition":"CREATE INDEX users_is_anonymous_idx ON auth.users USING btree (is_anonymous)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.sessions":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"factor_id","type":"uuid","default":null,"nullable":true},{"name":"aal","type":"auth.aal_level","default":null,"nullable":true},{"name":"not_after","type":"timestamp with time zone","default":null,"nullable":true},{"name":"refreshed_at","type":"timestamp without time zone","default":null,"nullable":true},{"name":"user_agent","type":"text","default":null,"nullable":true},{"name":"ip","type":"inet","default":null,"nullable":true},{"name":"tag","type":"text","default":null,"nullable":true}],"indexes":[{"name":"sessions_pkey","definition":"CREATE UNIQUE INDEX sessions_pkey ON auth.sessions USING btree (id)"},{"name":"user_id_created_at_idx","definition":"CREATE INDEX user_id_created_at_idx ON auth.sessions USING btree (user_id, created_at)"},{"name":"sessions_user_id_idx","definition":"CREATE INDEX sessions_user_id_idx ON auth.sessions USING btree (user_id)"},{"name":"sessions_not_after_idx","definition":"CREATE INDEX sessions_not_after_idx ON auth.sessions USING btree (not_after DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE","ref":{"table":"users","schema":"auth","columns":["id"]},"name":"sessions_user_id_fkey","columns":["user_id"]}]},"vault.secrets":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"name","type":"text","default":null,"nullable":true},{"name":"description","type":"text","default":"''::text","nullable":false},{"name":"secret","type":"text","default":null,"nullable":false},{"name":"key_id","type":"uuid","default":null,"nullable":true},{"name":"nonce","type":"bytea","default":"vault._crypto_aead_det_noncegen()","nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"CURRENT_TIMESTAMP","nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":"CURRENT_TIMESTAMP","nullable":false}],"indexes":[{"name":"secrets_pkey","definition":"CREATE UNIQUE INDEX secrets_pkey ON vault.secrets USING btree (id)"},{"name":"secrets_name_idx","definition":"CREATE UNIQUE INDEX secrets_name_idx ON vault.secrets USING btree (name) WHERE (name IS NOT NULL)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.instances":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"uuid","type":"uuid","default":null,"nullable":true},{"name":"raw_base_config","type":"text","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true}],"indexes":[{"name":"instances_pkey","definition":"CREATE UNIQUE INDEX instances_pkey ON auth.instances USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.flow_state":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":true},{"name":"auth_code","type":"text","default":null,"nullable":false},{"name":"code_challenge_method","type":"auth.code_challenge_method","default":null,"nullable":false},{"name":"code_challenge","type":"text","default":null,"nullable":false},{"name":"provider_type","type":"text","default":null,"nullable":false},{"name":"provider_access_token","type":"text","default":null,"nullable":true},{"name":"provider_refresh_token","type":"text","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"authentication_method","type":"text","default":null,"nullable":false},{"name":"auth_code_issued_at","type":"timestamp with time zone","default":null,"nullable":true}],"indexes":[{"name":"flow_state_pkey","definition":"CREATE UNIQUE INDEX flow_state_pkey ON auth.flow_state USING btree (id)"},{"name":"idx_auth_code","definition":"CREATE INDEX idx_auth_code ON auth.flow_state USING btree (auth_code)"},{"name":"idx_user_id_auth_method","definition":"CREATE INDEX idx_user_id_auth_method ON auth.flow_state USING btree (user_id, authentication_method)"},{"name":"flow_state_created_at_idx","definition":"CREATE INDEX flow_state_created_at_idx ON auth.flow_state USING btree (created_at DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.identities":{"columns":[{"name":"provider_id","type":"text","default":null,"nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"identity_data","type":"jsonb","default":null,"nullable":false},{"name":"provider","type":"text","default":null,"nullable":false},{"name":"last_sign_in_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"email","type":"text","default":"lower((identity_data ->> 'email'::text))","nullable":true},{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false}],"indexes":[{"name":"identities_user_id_idx","definition":"CREATE INDEX identities_user_id_idx ON auth.identities USING btree (user_id)"},{"name":"identities_email_idx","definition":"CREATE INDEX identities_email_idx ON auth.identities USING btree (email text_pattern_ops)"},{"name":"identities_pkey","definition":"CREATE UNIQUE INDEX identities_pkey ON auth.identities USING btree (id)"},{"name":"identities_provider_id_provider_unique","definition":"CREATE UNIQUE INDEX identities_provider_id_provider_unique ON auth.identities USING btree (provider_id, provider)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE","ref":{"table":"users","schema":"auth","columns":["id"]},"name":"identities_user_id_fkey","columns":["user_id"]}]},"public.profiles":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"email","type":"text","default":null,"nullable":false},{"name":"full_name","type":"text","default":null,"nullable":true},{"name":"avatar_url","type":"text","default":null,"nullable":true},{"name":"unit_preference","type":"text","default":"'''kg'''::text","nullable":false},{"name":"coach_id","type":"uuid","default":null,"nullable":true},{"name":"notifications_enabled","type":"boolean","default":"false","nullable":true},{"name":"has_completed_setup","type":"boolean","default":"false","nullable":true},{"name":"nickname","type":"text","default":null,"nullable":true},{"name":"age","type":"integer","default":null,"nullable":true},{"name":"gender","type":"text","default":null,"nullable":true},{"name":"ai_persona","type":"text","default":"'motivational'::text","nullable":true},{"name":"accent_color","type":"text","default":"'#007AFF'::text","nullable":true},{"name":"target_weight","type":"numeric","default":null,"nullable":true},{"name":"target_weight_unit","type":"text","default":"'kg'::text","nullable":true},{"name":"main_focus","type":"text","default":null,"nullable":true},{"name":"training_inspiration","type":"text","default":null,"nullable":true},{"name":"biggest_challenge","type":"text","default":null,"nullable":true},{"name":"challenge_other_text","type":"text","default":null,"nullable":true},{"name":"experience_level","type":"text","default":null,"nullable":true},{"name":"training_style","type":"text","default":null,"nullable":true},{"name":"workout_frequency_days","type":"text[]","default":null,"nullable":true},{"name":"workout_duration","type":"integer","default":null,"nullable":true},{"name":"injuries","type":"jsonb","default":"'{\"past\": [], \"active\": []}'::jsonb","nullable":true},{"name":"apple_health_connected","type":"boolean","default":"false","nullable":true},{"name":"privacy_consent_date","type":"timestamp with time zone","default":null,"nullable":true},{"name":"marketing_consent","type":"boolean","default":"false","nullable":true},{"name":"referral_code_used","type":"text","default":null,"nullable":true},{"name":"share_count","type":"integer","default":"0","nullable":true},{"name":"trial_end_date","type":"timestamp with time zone","default":null,"nullable":true},{"name":"onboarding_step","type":"text","default":null,"nullable":true},{"name":"onboarding_completed_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"signup_method","type":"text","default":null,"nullable":true}],"indexes":[{"name":"profiles_pkey","definition":"CREATE UNIQUE INDEX profiles_pkey ON public.profiles USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"storage.buckets":{"columns":[{"name":"id","type":"text","default":null,"nullable":false},{"name":"name","type":"text","default":null,"nullable":false},{"name":"owner","type":"uuid","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"public","type":"boolean","default":"false","nullable":true},{"name":"avif_autodetection","type":"boolean","default":"false","nullable":true},{"name":"file_size_limit","type":"bigint","default":null,"nullable":true},{"name":"allowed_mime_types","type":"text[]","default":null,"nullable":true},{"name":"owner_id","type":"text","default":null,"nullable":true},{"name":"type","type":"storage.buckettype","default":"'STANDARD'::storage.buckettype","nullable":false}],"indexes":[{"name":"buckets_pkey","definition":"CREATE UNIQUE INDEX buckets_pkey ON storage.buckets USING btree (id)"},{"name":"bname","definition":"CREATE UNIQUE INDEX bname ON storage.buckets USING btree (name)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"storage.objects":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"bucket_id","type":"text","default":null,"nullable":true},{"name":"name","type":"text","default":null,"nullable":true},{"name":"owner","type":"uuid","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"last_accessed_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"metadata","type":"jsonb","default":null,"nullable":true},{"name":"path_tokens","type":"text[]","default":"string_to_array(name, '/'::text)","nullable":true},{"name":"version","type":"text","default":null,"nullable":true},{"name":"owner_id","type":"text","default":null,"nullable":true},{"name":"user_metadata","type":"jsonb","default":null,"nullable":true},{"name":"level","type":"integer","default":null,"nullable":true}],"indexes":[{"name":"objects_pkey","definition":"CREATE UNIQUE INDEX objects_pkey ON storage.objects USING btree (id)"},{"name":"bucketid_objname","definition":"CREATE UNIQUE INDEX bucketid_objname ON storage.objects USING btree (bucket_id, name)"},{"name":"name_prefix_search","definition":"CREATE INDEX name_prefix_search ON storage.objects USING btree (name text_pattern_ops)"},{"name":"idx_name_bucket_level_unique","definition":"CREATE UNIQUE INDEX idx_name_bucket_level_unique ON storage.objects USING btree (name COLLATE \"C\", bucket_id, level)"},{"name":"objects_bucket_id_level_idx","definition":"CREATE UNIQUE INDEX objects_bucket_id_level_idx ON storage.objects USING btree (bucket_id, level, name COLLATE \"C\")"},{"name":"idx_objects_bucket_id_name","definition":"CREATE INDEX idx_objects_bucket_id_name ON storage.objects USING btree (bucket_id, name COLLATE \"C\")"},{"name":"idx_objects_lower_name","definition":"CREATE INDEX idx_objects_lower_name ON storage.objects USING btree ((path_tokens[level]), lower(name) text_pattern_ops, bucket_id, level)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)","ref":{"table":"buckets","schema":"storage","columns":["id"]},"name":"objects_bucketId_fkey","columns":["bucket_id"]}]},"auth.mfa_factors":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"friendly_name","type":"text","default":null,"nullable":true},{"name":"factor_type","type":"auth.factor_type","default":null,"nullable":false},{"name":"status","type":"auth.factor_status","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":false},{"name":"secret","type":"text","default":null,"nullable":true},{"name":"phone","type":"text","default":null,"nullable":true},{"name":"last_challenged_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"web_authn_credential","type":"jsonb","default":null,"nullable":true},{"name":"web_authn_aaguid","type":"uuid","default":null,"nullable":true}],"indexes":[{"name":"mfa_factors_pkey","definition":"CREATE UNIQUE INDEX mfa_factors_pkey ON auth.mfa_factors USING btree (id)"},{"name":"mfa_factors_user_friendly_name_unique","definition":"CREATE UNIQUE INDEX mfa_factors_user_friendly_name_unique ON auth.mfa_factors USING btree (friendly_name, user_id) WHERE (TRIM(BOTH FROM friendly_name) <> ''::text)"},{"name":"factor_id_created_at_idx","definition":"CREATE INDEX factor_id_created_at_idx ON auth.mfa_factors USING btree (user_id, created_at)"},{"name":"mfa_factors_user_id_idx","definition":"CREATE INDEX mfa_factors_user_id_idx ON auth.mfa_factors USING btree (user_id)"},{"name":"unique_phone_factor_per_user","definition":"CREATE UNIQUE INDEX unique_phone_factor_per_user ON auth.mfa_factors USING btree (user_id, phone)"},{"name":"mfa_factors_last_challenged_at_key","definition":"CREATE UNIQUE INDEX mfa_factors_last_challenged_at_key ON auth.mfa_factors USING btree (last_challenged_at)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE","ref":{"table":"users","schema":"auth","columns":["id"]},"name":"mfa_factors_user_id_fkey","columns":["user_id"]}]},"auth.sso_domains":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"sso_provider_id","type":"uuid","default":null,"nullable":false},{"name":"domain","type":"text","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true}],"indexes":[{"name":"sso_domains_pkey","definition":"CREATE UNIQUE INDEX sso_domains_pkey ON auth.sso_domains USING btree (id)"},{"name":"sso_domains_sso_provider_id_idx","definition":"CREATE INDEX sso_domains_sso_provider_id_idx ON auth.sso_domains USING btree (sso_provider_id)"},{"name":"sso_domains_domain_idx","definition":"CREATE UNIQUE INDEX sso_domains_domain_idx ON auth.sso_domains USING btree (lower(domain))"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE","ref":{"table":"sso_providers","schema":"auth","columns":["id"]},"name":"sso_domains_sso_provider_id_fkey","columns":["sso_provider_id"]}]},"public.exercises":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"name","type":"text","default":null,"nullable":false},{"name":"muscle_groups","type":"text[]","default":null,"nullable":false},{"name":"equipment","type":"text","default":"'''bodyweight'''::text","nullable":false},{"name":"instructions","type":"text","default":null,"nullable":true},{"name":"is_custom","type":"boolean","default":"false","nullable":false},{"name":"created_by","type":"uuid","default":null,"nullable":true}],"indexes":[{"name":"exercises_pkey","definition":"CREATE UNIQUE INDEX exercises_pkey ON public.exercises USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (created_by) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"fk_exercises_created_by","columns":["created_by"]}]},"storage.prefixes":{"columns":[{"name":"bucket_id","type":"text","default":null,"nullable":false},{"name":"name","type":"text","default":null,"nullable":false},{"name":"level","type":"integer","default":"storage.get_level(name)","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"prefixes_pkey","definition":"CREATE UNIQUE INDEX prefixes_pkey ON storage.prefixes USING btree (bucket_id, level, name)"},{"name":"idx_prefixes_lower_name","definition":"CREATE INDEX idx_prefixes_lower_name ON storage.prefixes USING btree (bucket_id, level, ((string_to_array(name, '/'::text))[level]), lower(name) text_pattern_ops)"}],"primary_key":["bucket_id","name","level"],"foreign_keys":[{"def":"FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)","ref":{"table":"buckets","schema":"storage","columns":["id"]},"name":"prefixes_bucketId_fkey","columns":["bucket_id"]}]},"auth.oauth_clients":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"client_id","type":"text","default":null,"nullable":false},{"name":"client_secret_hash","type":"text","default":null,"nullable":false},{"name":"registration_type","type":"auth.oauth_registration_type","default":null,"nullable":false},{"name":"redirect_uris","type":"text","default":null,"nullable":false},{"name":"grant_types","type":"text","default":null,"nullable":false},{"name":"client_name","type":"text","default":null,"nullable":true},{"name":"client_uri","type":"text","default":null,"nullable":true},{"name":"logo_uri","type":"text","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"deleted_at","type":"timestamp with time zone","default":null,"nullable":true}],"indexes":[{"name":"oauth_clients_pkey","definition":"CREATE UNIQUE INDEX oauth_clients_pkey ON auth.oauth_clients USING btree (id)"},{"name":"oauth_clients_client_id_key","definition":"CREATE UNIQUE INDEX oauth_clients_client_id_key ON auth.oauth_clients USING btree (client_id)"},{"name":"oauth_clients_client_id_idx","definition":"CREATE INDEX oauth_clients_client_id_idx ON auth.oauth_clients USING btree (client_id)"},{"name":"oauth_clients_deleted_at_idx","definition":"CREATE INDEX oauth_clients_deleted_at_idx ON auth.oauth_clients USING btree (deleted_at)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.sso_providers":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"resource_id","type":"text","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"disabled","type":"boolean","default":null,"nullable":true}],"indexes":[{"name":"sso_providers_pkey","definition":"CREATE UNIQUE INDEX sso_providers_pkey ON auth.sso_providers USING btree (id)"},{"name":"sso_providers_resource_id_idx","definition":"CREATE UNIQUE INDEX sso_providers_resource_id_idx ON auth.sso_providers USING btree (lower(resource_id))"},{"name":"sso_providers_resource_id_pattern_idx","definition":"CREATE INDEX sso_providers_resource_id_pattern_idx ON auth.sso_providers USING btree (resource_id text_pattern_ops)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"public.ai_personas":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"name","type":"text","default":null,"nullable":false},{"name":"display_name","type":"text","default":null,"nullable":false},{"name":"avatar_url","type":"text","default":null,"nullable":true},{"name":"accent_color","type":"text","default":null,"nullable":false},{"name":"tone_description","type":"text","default":null,"nullable":true},{"name":"message_templates","type":"jsonb","default":null,"nullable":true},{"name":"personality_traits","type":"jsonb","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"ai_personas_pkey","definition":"CREATE UNIQUE INDEX ai_personas_pkey ON public.ai_personas USING btree (id)"},{"name":"ai_personas_name_key","definition":"CREATE UNIQUE INDEX ai_personas_name_key ON public.ai_personas USING btree (name)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"storage.migrations":{"columns":[{"name":"id","type":"integer","default":null,"nullable":false},{"name":"name","type":"character varying(100)","default":null,"nullable":false},{"name":"hash","type":"character varying(40)","default":null,"nullable":false},{"name":"executed_at","type":"timestamp without time zone","default":"CURRENT_TIMESTAMP","nullable":true}],"indexes":[{"name":"migrations_pkey","definition":"CREATE UNIQUE INDEX migrations_pkey ON storage.migrations USING btree (id)"},{"name":"migrations_name_key","definition":"CREATE UNIQUE INDEX migrations_name_key ON storage.migrations USING btree (name)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.mfa_amr_claims":{"columns":[{"name":"session_id","type":"uuid","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":false},{"name":"authentication_method","type":"text","default":null,"nullable":false},{"name":"id","type":"uuid","default":null,"nullable":false}],"indexes":[{"name":"mfa_amr_claims_session_id_authentication_method_pkey","definition":"CREATE UNIQUE INDEX mfa_amr_claims_session_id_authentication_method_pkey ON auth.mfa_amr_claims USING btree (session_id, authentication_method)"},{"name":"amr_id_pk","definition":"CREATE UNIQUE INDEX amr_id_pk ON auth.mfa_amr_claims USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (session_id) REFERENCES auth.sessions(id) ON DELETE CASCADE","ref":{"table":"sessions","schema":"auth","columns":["id"]},"name":"mfa_amr_claims_session_id_fkey","columns":["session_id"]}]},"auth.mfa_challenges":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"factor_id","type":"uuid","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":false},{"name":"verified_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"ip_address","type":"inet","default":null,"nullable":false},{"name":"otp_code","type":"text","default":null,"nullable":true},{"name":"web_authn_session_data","type":"jsonb","default":null,"nullable":true}],"indexes":[{"name":"mfa_challenges_pkey","definition":"CREATE UNIQUE INDEX mfa_challenges_pkey ON auth.mfa_challenges USING btree (id)"},{"name":"mfa_challenge_created_at_idx","definition":"CREATE INDEX mfa_challenge_created_at_idx ON auth.mfa_challenges USING btree (created_at DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (factor_id) REFERENCES auth.mfa_factors(id) ON DELETE CASCADE","ref":{"table":"mfa_factors","schema":"auth","columns":["id"]},"name":"mfa_challenges_auth_factor_id_fkey","columns":["factor_id"]}]},"auth.refresh_tokens":{"columns":[{"name":"instance_id","type":"uuid","default":null,"nullable":true},{"name":"id","type":"bigint","default":"nextval('auth.refresh_tokens_id_seq'::regclass)","nullable":false},{"name":"token","type":"character varying(255)","default":null,"nullable":true},{"name":"user_id","type":"character varying(255)","default":null,"nullable":true},{"name":"revoked","type":"boolean","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"parent","type":"character varying(255)","default":null,"nullable":true},{"name":"session_id","type":"uuid","default":null,"nullable":true}],"indexes":[{"name":"refresh_tokens_pkey","definition":"CREATE UNIQUE INDEX refresh_tokens_pkey ON auth.refresh_tokens USING btree (id)"},{"name":"refresh_tokens_instance_id_idx","definition":"CREATE INDEX refresh_tokens_instance_id_idx ON auth.refresh_tokens USING btree (instance_id)"},{"name":"refresh_tokens_instance_id_user_id_idx","definition":"CREATE INDEX refresh_tokens_instance_id_user_id_idx ON auth.refresh_tokens USING btree (instance_id, user_id)"},{"name":"refresh_tokens_token_unique","definition":"CREATE UNIQUE INDEX refresh_tokens_token_unique ON auth.refresh_tokens USING btree (token)"},{"name":"refresh_tokens_parent_idx","definition":"CREATE INDEX refresh_tokens_parent_idx ON auth.refresh_tokens USING btree (parent)"},{"name":"refresh_tokens_session_id_revoked_idx","definition":"CREATE INDEX refresh_tokens_session_id_revoked_idx ON auth.refresh_tokens USING btree (session_id, revoked)"},{"name":"refresh_tokens_updated_at_idx","definition":"CREATE INDEX refresh_tokens_updated_at_idx ON auth.refresh_tokens USING btree (updated_at DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (session_id) REFERENCES auth.sessions(id) ON DELETE CASCADE","ref":{"table":"sessions","schema":"auth","columns":["id"]},"name":"refresh_tokens_session_id_fkey","columns":["session_id"]}]},"auth.saml_providers":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"sso_provider_id","type":"uuid","default":null,"nullable":false},{"name":"entity_id","type":"text","default":null,"nullable":false},{"name":"metadata_xml","type":"text","default":null,"nullable":false},{"name":"metadata_url","type":"text","default":null,"nullable":true},{"name":"attribute_mapping","type":"jsonb","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"name_id_format","type":"text","default":null,"nullable":true}],"indexes":[{"name":"saml_providers_pkey","definition":"CREATE UNIQUE INDEX saml_providers_pkey ON auth.saml_providers USING btree (id)"},{"name":"saml_providers_entity_id_key","definition":"CREATE UNIQUE INDEX saml_providers_entity_id_key ON auth.saml_providers USING btree (entity_id)"},{"name":"saml_providers_sso_provider_id_idx","definition":"CREATE INDEX saml_providers_sso_provider_id_idx ON auth.saml_providers USING btree (sso_provider_id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE","ref":{"table":"sso_providers","schema":"auth","columns":["id"]},"name":"saml_providers_sso_provider_id_fkey","columns":["sso_provider_id"]}]},"public.workout_sets":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"session_id","type":"uuid","default":null,"nullable":false},{"name":"exercise_id","type":"uuid","default":null,"nullable":false},{"name":"set_number","type":"integer","default":null,"nullable":false},{"name":"weight","type":"numeric","default":null,"nullable":true},{"name":"reps","type":"integer","default":null,"nullable":false},{"name":"rest_seconds","type":"integer","default":null,"nullable":true},{"name":"notes","type":"text","default":null,"nullable":true}],"indexes":[{"name":"workout_sets_pkey","definition":"CREATE UNIQUE INDEX workout_sets_pkey ON public.workout_sets USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (exercise_id) REFERENCES exercises(id) ON DELETE CASCADE","ref":{"table":"exercises","schema":"public","columns":["id"]},"name":"fk_workout_sets_exercise_id","columns":["exercise_id"]},{"def":"FOREIGN KEY (session_id) REFERENCES workout_sessions(id) ON DELETE CASCADE","ref":{"table":"workout_sessions","schema":"public","columns":["id"]},"name":"fk_workout_sets_session_id","columns":["session_id"]}]},"auth.one_time_tokens":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"token_type","type":"auth.one_time_token_type","default":null,"nullable":false},{"name":"token_hash","type":"text","default":null,"nullable":false},{"name":"relates_to","type":"text","default":null,"nullable":false},{"name":"created_at","type":"timestamp without time zone","default":"now()","nullable":false},{"name":"updated_at","type":"timestamp without time zone","default":"now()","nullable":false}],"indexes":[{"name":"one_time_tokens_pkey","definition":"CREATE UNIQUE INDEX one_time_tokens_pkey ON auth.one_time_tokens USING btree (id)"},{"name":"one_time_tokens_token_hash_hash_idx","definition":"CREATE INDEX one_time_tokens_token_hash_hash_idx ON auth.one_time_tokens USING hash (token_hash)"},{"name":"one_time_tokens_relates_to_hash_idx","definition":"CREATE INDEX one_time_tokens_relates_to_hash_idx ON auth.one_time_tokens USING hash (relates_to)"},{"name":"one_time_tokens_user_id_token_type_key","definition":"CREATE UNIQUE INDEX one_time_tokens_user_id_token_type_key ON auth.one_time_tokens USING btree (user_id, token_type)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE","ref":{"table":"users","schema":"auth","columns":["id"]},"name":"one_time_tokens_user_id_fkey","columns":["user_id"]}]},"public.notifications":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"recipient_id","type":"uuid","default":null,"nullable":false},{"name":"sender_id","type":"uuid","default":null,"nullable":true},{"name":"type","type":"text","default":null,"nullable":false},{"name":"title","type":"text","default":null,"nullable":false},{"name":"message","type":"text","default":null,"nullable":false},{"name":"related_id","type":"uuid","default":null,"nullable":true},{"name":"related_type","type":"text","default":null,"nullable":true},{"name":"is_read","type":"boolean","default":"false","nullable":true},{"name":"is_active","type":"boolean","default":"true","nullable":true},{"name":"metadata","type":"jsonb","default":"'{}'::jsonb","nullable":true}],"indexes":[{"name":"notifications_pkey","definition":"CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (id)"},{"name":"idx_notifications_recipient_id","definition":"CREATE INDEX idx_notifications_recipient_id ON public.notifications USING btree (recipient_id)"},{"name":"idx_notifications_created_at","definition":"CREATE INDEX idx_notifications_created_at ON public.notifications USING btree (created_at DESC)"},{"name":"idx_notifications_unread","definition":"CREATE INDEX idx_notifications_unread ON public.notifications USING btree (recipient_id, is_read) WHERE (is_read = false)"},{"name":"idx_notifications_type","definition":"CREATE INDEX idx_notifications_type ON public.notifications USING btree (type)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (recipient_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"notifications_recipient_id_fkey","columns":["recipient_id"]},{"def":"FOREIGN KEY (sender_id) REFERENCES profiles(id) ON DELETE SET NULL","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"notifications_sender_id_fkey","columns":["sender_id"]}]},"public.referral_codes":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"code","type":"text","default":null,"nullable":false},{"name":"created_by","type":"uuid","default":null,"nullable":true},{"name":"usage_limit","type":"integer","default":null,"nullable":true},{"name":"times_used","type":"integer","default":"0","nullable":true},{"name":"reward_type","type":"text","default":null,"nullable":true},{"name":"reward_data","type":"jsonb","default":null,"nullable":true},{"name":"expires_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"is_active","type":"boolean","default":"true","nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"referral_codes_pkey","definition":"CREATE UNIQUE INDEX referral_codes_pkey ON public.referral_codes USING btree (id)"},{"name":"referral_codes_code_key","definition":"CREATE UNIQUE INDEX referral_codes_code_key ON public.referral_codes USING btree (code)"},{"name":"idx_referral_codes_code","definition":"CREATE INDEX idx_referral_codes_code ON public.referral_codes USING btree (code) WHERE (is_active = true)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (created_by) REFERENCES profiles(id)","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"referral_codes_created_by_fkey","columns":["created_by"]}]},"public.share_tracking":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":true},{"name":"share_method","type":"text","default":null,"nullable":true},{"name":"share_context","type":"text","default":null,"nullable":true},{"name":"recipient_identifier","type":"text","default":null,"nullable":true},{"name":"clicked","type":"boolean","default":"false","nullable":true},{"name":"converted","type":"boolean","default":"false","nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"share_tracking_pkey","definition":"CREATE UNIQUE INDEX share_tracking_pkey ON public.share_tracking USING btree (id)"},{"name":"idx_share_tracking_user","definition":"CREATE INDEX idx_share_tracking_user ON public.share_tracking USING btree (user_id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id)","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"share_tracking_user_id_fkey","columns":["user_id"]}]},"public.user_referrals":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"referrer_id","type":"uuid","default":null,"nullable":true},{"name":"referred_id","type":"uuid","default":null,"nullable":true},{"name":"referral_code_id","type":"uuid","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"user_referrals_pkey","definition":"CREATE UNIQUE INDEX user_referrals_pkey ON public.user_referrals USING btree (id)"},{"name":"user_referrals_referred_id_key","definition":"CREATE UNIQUE INDEX user_referrals_referred_id_key ON public.user_referrals USING btree (referred_id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (referral_code_id) REFERENCES referral_codes(id)","ref":{"table":"referral_codes","schema":"public","columns":["id"]},"name":"user_referrals_referral_code_id_fkey","columns":["referral_code_id"]},{"def":"FOREIGN KEY (referred_id) REFERENCES profiles(id)","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"user_referrals_referred_id_fkey","columns":["referred_id"]},{"def":"FOREIGN KEY (referrer_id) REFERENCES profiles(id)","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"user_referrals_referrer_id_fkey","columns":["referrer_id"]}]},"realtime.subscription":{"columns":[{"name":"id","type":"bigint","default":null,"nullable":false},{"name":"subscription_id","type":"uuid","default":null,"nullable":false},{"name":"entity","type":"regclass","default":null,"nullable":false},{"name":"filters","type":"realtime.user_defined_filter[]","default":"'{}'::realtime.user_defined_filter[]","nullable":false},{"name":"claims","type":"jsonb","default":null,"nullable":false},{"name":"claims_role","type":"regrole","default":"realtime.to_regrole((claims ->> 'role'::text))","nullable":false},{"name":"created_at","type":"timestamp without time zone","default":"timezone('utc'::text, now())","nullable":false}],"indexes":[{"name":"pk_subscription","definition":"CREATE UNIQUE INDEX pk_subscription ON realtime.subscription USING btree (id)"},{"name":"subscription_subscription_id_entity_filters_key","definition":"CREATE UNIQUE INDEX subscription_subscription_id_entity_filters_key ON realtime.subscription USING btree (subscription_id, entity, filters)"},{"name":"ix_realtime_subscription_entity","definition":"CREATE INDEX ix_realtime_subscription_entity ON realtime.subscription USING btree (entity)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.audit_log_entries":{"columns":[{"name":"instance_id","type":"uuid","default":null,"nullable":true},{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"payload","type":"json","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"ip_address","type":"character varying(64)","default":"''::character varying","nullable":false}],"indexes":[{"name":"audit_log_entries_pkey","definition":"CREATE UNIQUE INDEX audit_log_entries_pkey ON auth.audit_log_entries USING btree (id)"},{"name":"audit_logs_instance_id_idx","definition":"CREATE INDEX audit_logs_instance_id_idx ON auth.audit_log_entries USING btree (instance_id)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"auth.saml_relay_states":{"columns":[{"name":"id","type":"uuid","default":null,"nullable":false},{"name":"sso_provider_id","type":"uuid","default":null,"nullable":false},{"name":"request_id","type":"text","default":null,"nullable":false},{"name":"for_email","type":"text","default":null,"nullable":true},{"name":"redirect_to","type":"text","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"flow_state_id","type":"uuid","default":null,"nullable":true}],"indexes":[{"name":"saml_relay_states_pkey","definition":"CREATE UNIQUE INDEX saml_relay_states_pkey ON auth.saml_relay_states USING btree (id)"},{"name":"saml_relay_states_sso_provider_id_idx","definition":"CREATE INDEX saml_relay_states_sso_provider_id_idx ON auth.saml_relay_states USING btree (sso_provider_id)"},{"name":"saml_relay_states_for_email_idx","definition":"CREATE INDEX saml_relay_states_for_email_idx ON auth.saml_relay_states USING btree (for_email)"},{"name":"saml_relay_states_created_at_idx","definition":"CREATE INDEX saml_relay_states_created_at_idx ON auth.saml_relay_states USING btree (created_at DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (flow_state_id) REFERENCES auth.flow_state(id) ON DELETE CASCADE","ref":{"table":"flow_state","schema":"auth","columns":["id"]},"name":"saml_relay_states_flow_state_id_fkey","columns":["flow_state_id"]},{"def":"FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE","ref":{"table":"sso_providers","schema":"auth","columns":["id"]},"name":"saml_relay_states_sso_provider_id_fkey","columns":["sso_provider_id"]}]},"auth.schema_migrations":{"columns":[{"name":"version","type":"character varying(255)","default":null,"nullable":false}],"indexes":[{"name":"schema_migrations_pkey","definition":"CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)"}],"primary_key":["version"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"public.ai_chat_messages":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"message_id","type":"text","default":null,"nullable":false},{"name":"content","type":"text","default":null,"nullable":false},{"name":"sender","type":"text","default":null,"nullable":false},{"name":"message_type","type":"text","default":"'text'::text","nullable":true},{"name":"message_data","type":"jsonb","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false}],"indexes":[{"name":"ai_chat_messages_pkey","definition":"CREATE UNIQUE INDEX ai_chat_messages_pkey ON public.ai_chat_messages USING btree (id)"},{"name":"unique_message_id","definition":"CREATE UNIQUE INDEX unique_message_id ON public.ai_chat_messages USING btree (user_id, message_id)"},{"name":"idx_ai_chat_messages_user_id","definition":"CREATE INDEX idx_ai_chat_messages_user_id ON public.ai_chat_messages USING btree (user_id)"},{"name":"idx_ai_chat_messages_created_at","definition":"CREATE INDEX idx_ai_chat_messages_created_at ON public.ai_chat_messages USING btree (created_at DESC)"},{"name":"idx_ai_chat_messages_user_created","definition":"CREATE INDEX idx_ai_chat_messages_user_created ON public.ai_chat_messages USING btree (user_id, created_at DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE","ref":{"table":"users","schema":"auth","columns":["id"]},"name":"ai_chat_messages_user_id_fkey","columns":["user_id"]}]},"public.ai_conversations":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"messages","type":"jsonb","default":"'[]'::jsonb","nullable":false},{"name":"conversation_state","type":"text","default":"'IDLE'::text","nullable":true},{"name":"current_plan_draft","type":"jsonb","default":null,"nullable":true},{"name":"plan_version","type":"integer","default":"0","nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"ai_conversations_pkey","definition":"CREATE UNIQUE INDEX ai_conversations_pkey ON public.ai_conversations USING btree (id)"},{"name":"idx_ai_conversations_user_id","definition":"CREATE INDEX idx_ai_conversations_user_id ON public.ai_conversations USING btree (user_id)"},{"name":"idx_ai_conversations_updated_at","definition":"CREATE INDEX idx_ai_conversations_updated_at ON public.ai_conversations USING btree (updated_at DESC)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"ai_conversations_user_id_fkey","columns":["user_id"]}]},"public.ai_workout_plans":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"plan_name","type":"text","default":null,"nullable":false},{"name":"plan_data","type":"jsonb","default":null,"nullable":false},{"name":"start_date","type":"date","default":null,"nullable":false},{"name":"length_weeks","type":"integer","default":"8","nullable":false},{"name":"days_per_week","type":"integer","default":null,"nullable":false},{"name":"is_active","type":"boolean","default":"true","nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"ai_workout_plans_pkey","definition":"CREATE UNIQUE INDEX ai_workout_plans_pkey ON public.ai_workout_plans USING btree (id)"},{"name":"idx_ai_workout_plans_user_id","definition":"CREATE INDEX idx_ai_workout_plans_user_id ON public.ai_workout_plans USING btree (user_id)"},{"name":"idx_ai_workout_plans_active","definition":"CREATE INDEX idx_ai_workout_plans_active ON public.ai_workout_plans USING btree (user_id, is_active)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"ai_workout_plans_user_id_fkey","columns":["user_id"]}]},"public.workout_sessions":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"completed_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"template_id","type":"uuid","default":null,"nullable":true},{"name":"workout_name","type":"text","default":null,"nullable":false},{"name":"duration_minutes","type":"integer","default":null,"nullable":true},{"name":"total_volume","type":"numeric","default":null,"nullable":true},{"name":"notes","type":"text","default":null,"nullable":true},{"name":"date_performed","type":"date","default":null,"nullable":false}],"indexes":[{"name":"workout_sessions_pkey","definition":"CREATE UNIQUE INDEX workout_sessions_pkey ON public.workout_sessions USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (template_id) REFERENCES workout_templates(id) ON DELETE SET NULL","ref":{"table":"workout_templates","schema":"public","columns":["id"]},"name":"fk_workout_sessions_template_id","columns":["template_id"]},{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"fk_workout_sessions_user_id","columns":["user_id"]}]},"public.exercise_comments":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"exercise_id","type":"uuid","default":null,"nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"comment_text","type":"text","default":null,"nullable":false},{"name":"parent_comment_id","type":"uuid","default":null,"nullable":true},{"name":"is_active","type":"boolean","default":"true","nullable":false}],"indexes":[{"name":"exercise_comments_pkey","definition":"CREATE UNIQUE INDEX exercise_comments_pkey ON public.exercise_comments USING btree (id)"},{"name":"idx_exercise_comments_exercise_id","definition":"CREATE INDEX idx_exercise_comments_exercise_id ON public.exercise_comments USING btree (exercise_id)"},{"name":"idx_exercise_comments_user_id","definition":"CREATE INDEX idx_exercise_comments_user_id ON public.exercise_comments USING btree (user_id)"},{"name":"idx_exercise_comments_parent_id","definition":"CREATE INDEX idx_exercise_comments_parent_id ON public.exercise_comments USING btree (parent_comment_id)"},{"name":"idx_exercise_comments_active","definition":"CREATE INDEX idx_exercise_comments_active ON public.exercise_comments USING btree (is_active)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (exercise_id) REFERENCES exercises(id) ON DELETE CASCADE","ref":{"table":"exercises","schema":"public","columns":["id"]},"name":"exercise_comments_exercise_id_fkey","columns":["exercise_id"]},{"def":"FOREIGN KEY (parent_comment_id) REFERENCES exercise_comments(id) ON DELETE CASCADE","ref":{"table":"exercise_comments","schema":"public","columns":["id"]},"name":"exercise_comments_parent_comment_id_fkey","columns":["parent_comment_id"]},{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"exercise_comments_user_id_fkey","columns":["user_id"]},{"def":"FOREIGN KEY (exercise_id) REFERENCES exercises(id) ON DELETE CASCADE","ref":{"table":"exercises","schema":"public","columns":["id"]},"name":"fk_exercise_comments_exercise_id","columns":["exercise_id"]},{"def":"FOREIGN KEY (parent_comment_id) REFERENCES exercise_comments(id) ON DELETE CASCADE","ref":{"table":"exercise_comments","schema":"public","columns":["id"]},"name":"fk_exercise_comments_parent_id","columns":["parent_comment_id"]},{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"fk_exercise_comments_user_id","columns":["user_id"]}]},"public.workout_templates":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"name","type":"text","default":null,"nullable":false},{"name":"description","type":"text","default":null,"nullable":true},{"name":"exercises","type":"jsonb","default":null,"nullable":false},{"name":"scheduled_days","type":"text[]","default":null,"nullable":true},{"name":"is_active","type":"boolean","default":"true","nullable":false}],"indexes":[{"name":"workout_templates_pkey","definition":"CREATE UNIQUE INDEX workout_templates_pkey ON public.workout_templates USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"fk_workout_templates_user_id","columns":["user_id"]}]},"public.temp_workout_plans":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"session_id","type":"text","default":null,"nullable":false},{"name":"persona_id","type":"uuid","default":null,"nullable":true},{"name":"user_data","type":"jsonb","default":null,"nullable":false},{"name":"generated_plan","type":"jsonb","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"expires_at","type":"timestamp with time zone","default":"(now() + '7 days'::interval)","nullable":true},{"name":"converted_to_user_id","type":"uuid","default":null,"nullable":true}],"indexes":[{"name":"temp_workout_plans_pkey","definition":"CREATE UNIQUE INDEX temp_workout_plans_pkey ON public.temp_workout_plans USING btree (id)"},{"name":"idx_temp_workout_plans_session","definition":"CREATE INDEX idx_temp_workout_plans_session ON public.temp_workout_plans USING btree (session_id)"},{"name":"idx_temp_workout_plans_expires","definition":"CREATE INDEX idx_temp_workout_plans_expires ON public.temp_workout_plans USING btree (expires_at)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (persona_id) REFERENCES ai_personas(id)","ref":{"table":"ai_personas","schema":"public","columns":["id"]},"name":"temp_workout_plans_persona_id_fkey","columns":["persona_id"]}]},"storage.buckets_analytics":{"columns":[{"name":"id","type":"text","default":null,"nullable":false},{"name":"type","type":"storage.buckettype","default":"'ANALYTICS'::storage.buckettype","nullable":false},{"name":"format","type":"text","default":"'ICEBERG'::text","nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"updated_at","type":"timestamp with time zone","default":"now()","nullable":false}],"indexes":[{"name":"buckets_analytics_pkey","definition":"CREATE UNIQUE INDEX buckets_analytics_pkey ON storage.buckets_analytics USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"public.onboarding_sessions":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"session_id","type":"text","default":null,"nullable":false},{"name":"current_step","type":"integer","default":"1","nullable":true},{"name":"completed_steps","type":"jsonb","default":"'[]'::jsonb","nullable":true},{"name":"answers","type":"jsonb","default":"'{}'::jsonb","nullable":true},{"name":"persona_id","type":"uuid","default":null,"nullable":true},{"name":"started_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"last_active_at","type":"timestamp with time zone","default":"now()","nullable":true},{"name":"completed_at","type":"timestamp with time zone","default":null,"nullable":true},{"name":"user_id","type":"uuid","default":null,"nullable":true}],"indexes":[{"name":"onboarding_sessions_pkey","definition":"CREATE UNIQUE INDEX onboarding_sessions_pkey ON public.onboarding_sessions USING btree (id)"},{"name":"onboarding_sessions_session_id_key","definition":"CREATE UNIQUE INDEX onboarding_sessions_session_id_key ON public.onboarding_sessions USING btree (session_id)"},{"name":"idx_onboarding_sessions_session","definition":"CREATE INDEX idx_onboarding_sessions_session ON public.onboarding_sessions USING btree (session_id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (persona_id) REFERENCES ai_personas(id)","ref":{"table":"ai_personas","schema":"public","columns":["id"]},"name":"onboarding_sessions_persona_id_fkey","columns":["persona_id"]},{"def":"FOREIGN KEY (user_id) REFERENCES auth.users(id)","ref":{"table":"users","schema":"auth","columns":["id"]},"name":"onboarding_sessions_user_id_fkey","columns":["user_id"]}]},"realtime.schema_migrations":{"columns":[{"name":"version","type":"bigint","default":null,"nullable":false},{"name":"inserted_at","type":"timestamp(0) without time zone","default":null,"nullable":true}],"indexes":[{"name":"schema_migrations_pkey","definition":"CREATE UNIQUE INDEX schema_migrations_pkey ON realtime.schema_migrations USING btree (version)"}],"primary_key":["version"],"foreign_keys":[{"def":null,"ref":{"table":null,"schema":null,"columns":null},"name":null,"columns":null}]},"storage.s3_multipart_uploads":{"columns":[{"name":"id","type":"text","default":null,"nullable":false},{"name":"in_progress_size","type":"bigint","default":"0","nullable":false},{"name":"upload_signature","type":"text","default":null,"nullable":false},{"name":"bucket_id","type":"text","default":null,"nullable":false},{"name":"key","type":"text","default":null,"nullable":false},{"name":"version","type":"text","default":null,"nullable":false},{"name":"owner_id","type":"text","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false},{"name":"user_metadata","type":"jsonb","default":null,"nullable":true}],"indexes":[{"name":"s3_multipart_uploads_pkey","definition":"CREATE UNIQUE INDEX s3_multipart_uploads_pkey ON storage.s3_multipart_uploads USING btree (id)"},{"name":"idx_multipart_uploads_list","definition":"CREATE INDEX idx_multipart_uploads_list ON storage.s3_multipart_uploads USING btree (bucket_id, key, created_at)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)","ref":{"table":"buckets","schema":"storage","columns":["id"]},"name":"s3_multipart_uploads_bucket_id_fkey","columns":["bucket_id"]}]},"public.planned_workout_sessions":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"user_id","type":"uuid","default":null,"nullable":false},{"name":"ai_plan_id","type":"uuid","default":null,"nullable":true},{"name":"workout_title","type":"text","default":null,"nullable":false},{"name":"workout_data","type":"jsonb","default":null,"nullable":false},{"name":"scheduled_date","type":"date","default":null,"nullable":false},{"name":"is_completed","type":"boolean","default":"false","nullable":true},{"name":"completed_session_id","type":"uuid","default":null,"nullable":true},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":true}],"indexes":[{"name":"planned_workout_sessions_pkey","definition":"CREATE UNIQUE INDEX planned_workout_sessions_pkey ON public.planned_workout_sessions USING btree (id)"},{"name":"idx_planned_workout_sessions_user_date","definition":"CREATE INDEX idx_planned_workout_sessions_user_date ON public.planned_workout_sessions USING btree (user_id, scheduled_date)"},{"name":"idx_planned_workout_sessions_date","definition":"CREATE INDEX idx_planned_workout_sessions_date ON public.planned_workout_sessions USING btree (scheduled_date)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (ai_plan_id) REFERENCES ai_workout_plans(id) ON DELETE CASCADE","ref":{"table":"ai_workout_plans","schema":"public","columns":["id"]},"name":"planned_workout_sessions_ai_plan_id_fkey","columns":["ai_plan_id"]},{"def":"FOREIGN KEY (completed_session_id) REFERENCES workout_sessions(id)","ref":{"table":"workout_sessions","schema":"public","columns":["id"]},"name":"planned_workout_sessions_completed_session_id_fkey","columns":["completed_session_id"]},{"def":"FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE","ref":{"table":"profiles","schema":"public","columns":["id"]},"name":"planned_workout_sessions_user_id_fkey","columns":["user_id"]}]},"storage.s3_multipart_uploads_parts":{"columns":[{"name":"id","type":"uuid","default":"gen_random_uuid()","nullable":false},{"name":"upload_id","type":"text","default":null,"nullable":false},{"name":"size","type":"bigint","default":"0","nullable":false},{"name":"part_number","type":"integer","default":null,"nullable":false},{"name":"bucket_id","type":"text","default":null,"nullable":false},{"name":"key","type":"text","default":null,"nullable":false},{"name":"etag","type":"text","default":null,"nullable":false},{"name":"owner_id","type":"text","default":null,"nullable":true},{"name":"version","type":"text","default":null,"nullable":false},{"name":"created_at","type":"timestamp with time zone","default":"now()","nullable":false}],"indexes":[{"name":"s3_multipart_uploads_parts_pkey","definition":"CREATE UNIQUE INDEX s3_multipart_uploads_parts_pkey ON storage.s3_multipart_uploads_parts USING btree (id)"}],"primary_key":["id"],"foreign_keys":[{"def":"FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)","ref":{"table":"buckets","schema":"storage","columns":["id"]},"name":"s3_multipart_uploads_parts_bucket_id_fkey","columns":["bucket_id"]},{"def":"FOREIGN KEY (upload_id) REFERENCES storage.s3_multipart_uploads(id) ON DELETE CASCADE","ref":{"table":"s3_multipart_uploads","schema":"storage","columns":["id"]},"name":"s3_multipart_uploads_parts_upload_id_fkey","columns":["upload_id"]}]}}